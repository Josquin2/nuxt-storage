import{_ as Z,t as u,v as f,x as e,d as T,r as k,K as w,J as y,L as O,M as z,N as H,O as J,z as b,P as D,u as Q,E as U,o as j,y as r,Q as q,i as A,R as G,S as W,T as X}from"./DA0GBero.js";const Y={},p={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function tt(i,t){return u(),f("svg",p,t[0]||(t[0]=[e("path",{d:"M7.91667 2.5C9.35326 2.5 10.731 3.07068 11.7468 4.0865C12.7627 5.10233 13.3333 6.48008 13.3333 7.91667C13.3333 9.25833 12.8417 10.4917 12.0333 11.4417L12.2583 11.6667H12.9167L17.0833 15.8333L15.8333 17.0833L11.6667 12.9167V12.2583L11.4417 12.0333C10.4917 12.8417 9.25833 13.3333 7.91667 13.3333C6.48008 13.3333 5.10233 12.7627 4.0865 11.7468C3.07068 10.731 2.5 9.35326 2.5 7.91667C2.5 6.48008 3.07068 5.10233 4.0865 4.0865C5.10233 3.07068 6.48008 2.5 7.91667 2.5ZM7.91667 4.16667C5.83333 4.16667 4.16667 5.83333 4.16667 7.91667C4.16667 10 5.83333 11.6667 7.91667 11.6667C10 11.6667 11.6667 10 11.6667 7.91667C11.6667 5.83333 10 4.16667 7.91667 4.16667Z",fill:"white"},null,-1)]))}const et=Z(Y,[["render",tt]]),st={class:"search-bar"},nt={class:"types"},it={class:"main-search"},Et=T({__name:"SearchBar",emits:["search","type"],setup(i,{emit:t}){const v=k(""),c=k("Все типы"),d=t;function _(){d("search",v.value)}function l(m){c.value=m,d("type",c.value)}return(m,o)=>(u(),f("div",st,[e("div",nt,[e("button",{onClick:o[0]||(o[0]=h=>l("Все типы")),class:w(["one-type",{"current-type":y(c)=="Все типы"}])}," Все типы ",2),e("button",{onClick:o[1]||(o[1]=h=>l("Прямые продажи")),class:w(["one-type",{"current-type":y(c)=="Прямые продажи"}])}," Прямые продажи ",2),e("button",{onClick:o[2]||(o[2]=h=>l("Аукцион")),class:w(["one-type",{"current-type":y(c)=="Аукцион"}])}," Аукцион ",2)]),e("div",it,[O(e("input",{type:"text","onUpdate:modelValue":o[3]||(o[3]=h=>H(v)?v.value=h:null),onKeyup:J(_,["enter"]),placeholder:"Поиск..."},null,544),[[z,y(v)]]),e("button",{onClick:_},[b(et)])])]))}}),at=D({id:"favorites",state:()=>({favorites:[]}),getters:{getFavorites:i=>i.favorites},actions:{setFavorite(i){i&&this.favorites.push(i)},deleteFavorite(i){i&&(this.favorites=this.favorites.filter(t=>t.id!==i.id))}}}),ot=D("transactions",{state:()=>({transactions:[],paidTransactions:[]}),getters:{getTransactions:i=>i.transactions},actions:{setTransaction(i){i&&this.transactions.push(i)},deleteTransaction(i){i&&(this.transactions=this.transactions.filter(t=>t.id!==i.id))}}}),lt={},ct={width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function rt(i,t){return u(),f("svg",ct,t[0]||(t[0]=[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.5 14.5C7.5 14.5 12.5 9.40909 12.5 5.59091C12.5 2.66213 10.2614 0.5 7.5 0.5C4.73858 0.5 2.5 2.66213 2.5 5.59091C2.5 9.40909 7.5 14.5 7.5 14.5ZM7.49979 7.86848C8.68326 7.86848 9.64265 6.87879 9.64265 5.65795C9.64265 4.43711 8.68326 3.44743 7.49979 3.44743C6.31632 3.44743 5.35693 4.43711 5.35693 5.65795C5.35693 6.87879 6.31632 7.86848 7.49979 7.86848Z",fill:"#969DC3"},null,-1)]))}const dt=Z(lt,[["render",rt]]),ut=["id"],vt={class:"left-side"},_t={class:"photo"},mt=["src"],ft={class:"card-info"},ht={class:"sell-type"},Ct={class:"item-name"},yt={class:"item-place"},gt={class:"seller"},kt={class:"seller-value"},$t={class:"item-type"},wt={class:"type-value"},bt={class:"about"},Tt={class:"right-side"},xt={class:"card-header"},Lt={class:"details"},St={class:"details"},Bt={class:"card-footer"},Ft=["disabled"],It=T({__name:"OneCard",props:{item:{}},setup(i){const t=i,v=Q(),c=k(v.currentRoute.value.fullPath);U(()=>v.currentRoute.value,n=>{c.value=n.fullPath});const d=at(),_=ot(),l=k(!1),m=k(!1);function o(n){var s;return(s=n==null?void 0:n.toString())==null?void 0:s.replace(/\B(?=(\d{3})+(?!\d))/g," ")}function h(n){var a,C;const s=(C=document.getElementById(`card-${(a=t==null?void 0:t.item)==null?void 0:a.id}`))==null?void 0:C.classList;s&&s.contains("favorite")?(d.deleteFavorite(n),s.remove("favorite")):(d.setFavorite(n),x(n))}function K(n){l.value==!0?(_.deleteTransaction(n),l.value=!1):(_.setTransaction(n),L(n))}function x(n){var C,$;const s=d.getFavorites,a=document.getElementById(`card-${(C=t==null?void 0:t.item)==null?void 0:C.id}`);for(let g=0;g<s.length;g++)s[g].id==n.id&&(($=a==null?void 0:a.classList)==null||$.add("favorite"))}function L(n){const s=_.getTransactions;for(let a=0;a<s.length;a++)s[a].id==n.id&&(l.value=!0)}function N(){var s,a;const n=document.getElementById(`card-${(s=t==null?void 0:t.item)==null?void 0:s.id}`);n&&((a=n==null?void 0:n.classList)==null||a.add("paid"),m.value=!0)}return j(()=>{x(t==null?void 0:t.item),L(t==null?void 0:t.item)}),(n,s)=>{var a,C,$,g,S,B,F,I,P,M,R,E;return u(),f("div",{class:"one-card",id:`card-${(a=t==null?void 0:t.item)==null?void 0:a.id}`},[e("div",vt,[e("div",_t,[e("img",{src:(C=t==null?void 0:t.item)==null?void 0:C.image,alt:""},null,8,mt)]),e("div",ft,[e("p",ht,r(($=t==null?void 0:t.item)==null?void 0:$.sell_type),1),e("h3",Ct,r((g=t==null?void 0:t.item)==null?void 0:g.name),1),e("div",yt,[b(dt),e("p",null,r((S=t==null?void 0:t.item)==null?void 0:S.place),1)]),e("div",gt,[s[3]||(s[3]=e("p",{class:"seller-title"},"Продавец",-1)),e("p",kt,r((B=t==null?void 0:t.item)==null?void 0:B.seller),1)]),e("div",$t,[s[4]||(s[4]=e("p",null,"Вид товара",-1)),e("p",wt,r((F=t==null?void 0:t.item)==null?void 0:F.item_type),1)]),e("div",bt,[e("p",null,r((I=t==null?void 0:t.item)==null?void 0:I.about_item),1)])])]),e("div",Tt,[e("div",xt,[e("h2",null,r(o(((P=t==null?void 0:t.item)==null?void 0:P.count)*((M=t==null?void 0:t.item)==null?void 0:M.price)))+" ₽",1),e("div",Lt,[s[5]||(s[5]=e("p",null,"Количество",-1)),e("h5",null,r((R=t==null?void 0:t.item)==null?void 0:R.count)+" шт.",1)]),e("div",St,[s[6]||(s[6]=e("p",null,"Стоимость за штуку",-1)),e("h5",null,r(o((E=t==null?void 0:t.item)==null?void 0:E.price))+" ₽",1)])]),e("div",Bt,[y(c)=="/TransactionsPage"?(u(),f("button",{key:0,onClick:s[0]||(s[0]=V=>N()),class:"add-button pay-button",disabled:y(m)},r(y(m)?"Оплачено":"Оплатить"),9,Ft)):(u(),f("button",{key:1,class:"add-button",onClick:s[1]||(s[1]=V=>K(t==null?void 0:t.item))},r(y(l)?"В сделках":"Добавить в сделки"),1)),e("button",{class:"favorite-button",onClick:s[2]||(s[2]=V=>h(t==null?void 0:t.item))},[b(q)])])])],8,ut)}}}),Pt={key:0,class:"all-cards"},Mt={key:1,class:"all-cards not-found"},Vt=T({__name:"CardsRow",props:{search:{},type:{},allItems:{}},setup(i){const t=i,v=k(t.allItems),c=A(()=>v.value.filter(d=>{const _=d.name.toLowerCase().includes(t.search.toLowerCase()),l=t.type==="Все типы"||d.sell_type===t.type;return _&&l}));return(d,_)=>{var m;const l=It;return((m=c.value)==null?void 0:m.length)>0?(u(),f("div",Pt,[(u(!0),f(G,null,W(c.value,(o,h)=>(u(),X(l,{key:h,item:o},null,8,["item"]))),128))])):(u(),f("div",Mt,"Не найдено!"))}}});export{Et as _,Vt as a,ot as b,at as u};
