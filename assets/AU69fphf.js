import{_ as Z,t as v,v as h,x as e,d as T,r as k,K as w,J as y,L as O,M as z,N as H,O as J,z as b,P as D,u as Q,E as U,o as j,y as d,Q as q,i as A,R as G,S as W,T as X}from"./Cto77NrQ.js";const Y={},p={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function tt(n,t){return v(),h("svg",p,t[0]||(t[0]=[e("path",{d:"M7.91667 2.5C9.35326 2.5 10.731 3.07068 11.7468 4.0865C12.7627 5.10233 13.3333 6.48008 13.3333 7.91667C13.3333 9.25833 12.8417 10.4917 12.0333 11.4417L12.2583 11.6667H12.9167L17.0833 15.8333L15.8333 17.0833L11.6667 12.9167V12.2583L11.4417 12.0333C10.4917 12.8417 9.25833 13.3333 7.91667 13.3333C6.48008 13.3333 5.10233 12.7627 4.0865 11.7468C3.07068 10.731 2.5 9.35326 2.5 7.91667C2.5 6.48008 3.07068 5.10233 4.0865 4.0865C5.10233 3.07068 6.48008 2.5 7.91667 2.5ZM7.91667 4.16667C5.83333 4.16667 4.16667 5.83333 4.16667 7.91667C4.16667 10 5.83333 11.6667 7.91667 11.6667C10 11.6667 11.6667 10 11.6667 7.91667C11.6667 5.83333 10 4.16667 7.91667 4.16667Z",fill:"white"},null,-1)]))}const et=Z(Y,[["render",tt]]),st={class:"search-bar"},nt={class:"types"},it={class:"main-search"},Et=T({__name:"SearchBar",emits:["search","type"],setup(n,{emit:t}){const _=k(""),l=k("Все типы"),u=t;function m(){u("search",_.value)}function c(f){l.value=f,console.log(l.value),u("type",l.value)}return(f,o)=>(v(),h("div",st,[e("div",nt,[e("button",{onClick:o[0]||(o[0]=C=>c("Все типы")),class:w(["one-type",{"current-type":y(l)=="Все типы"}])}," Все типы ",2),e("button",{onClick:o[1]||(o[1]=C=>c("Прямые продажи")),class:w(["one-type",{"current-type":y(l)=="Прямые продажи"}])}," Прямые продажи ",2),e("button",{onClick:o[2]||(o[2]=C=>c("Аукцион")),class:w(["one-type",{"current-type":y(l)=="Аукцион"}])}," Аукцион ",2)]),e("div",it,[O(e("input",{type:"text","onUpdate:modelValue":o[3]||(o[3]=C=>H(_)?_.value=C:null),onKeyup:J(m,["enter"]),placeholder:"Поиск..."},null,544),[[z,y(_)]]),e("button",{onClick:m},[b(et)])])]))}}),at=D({id:"favorites",state:()=>({favorites:[]}),getters:{getFavorites:n=>n.favorites},actions:{setFavorite(n){n&&this.favorites.push(n)},deleteFavorite(n){n&&(this.favorites=this.favorites.filter(t=>t.id!==n.id))}}}),ot=D("transactions",{state:()=>({transactions:[],paidTransactions:[]}),getters:{getTransactions:n=>n.transactions},actions:{setTransaction(n){n&&this.transactions.push(n)},deleteTransaction(n){n&&(this.transactions=this.transactions.filter(t=>t.id!==n.id))}}}),lt={},ct={width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function rt(n,t){return v(),h("svg",ct,t[0]||(t[0]=[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.5 14.5C7.5 14.5 12.5 9.40909 12.5 5.59091C12.5 2.66213 10.2614 0.5 7.5 0.5C4.73858 0.5 2.5 2.66213 2.5 5.59091C2.5 9.40909 7.5 14.5 7.5 14.5ZM7.49979 7.86848C8.68326 7.86848 9.64265 6.87879 9.64265 5.65795C9.64265 4.43711 8.68326 3.44743 7.49979 3.44743C6.31632 3.44743 5.35693 4.43711 5.35693 5.65795C5.35693 6.87879 6.31632 7.86848 7.49979 7.86848Z",fill:"#969DC3"},null,-1)]))}const dt=Z(lt,[["render",rt]]),ut=["id"],vt={class:"left-side"},_t={class:"photo"},mt=["src"],ft={class:"card-info"},ht={class:"sell-type"},Ct={class:"item-name"},yt={class:"item-place"},gt={class:"seller"},kt={class:"seller-value"},$t={class:"item-type"},wt={class:"type-value"},bt={class:"about"},Tt={class:"right-side"},xt={class:"card-header"},Lt={class:"details"},St={class:"details"},Bt={class:"card-footer"},Ft=["disabled"],It=T({__name:"OneCard",props:{item:{}},setup(n){const t=n,_=Q(),l=k(_.currentRoute.value.fullPath);U(()=>_.currentRoute.value,i=>{l.value=i.fullPath});const u=at(),m=ot(),c=k(!1),f=k(!1);function o(i){var s;return(s=i==null?void 0:i.toString())==null?void 0:s.replace(/\B(?=(\d{3})+(?!\d))/g," ")}function C(i){var a,r;const s=(r=document.getElementById(`card-${(a=t==null?void 0:t.item)==null?void 0:a.id}`))==null?void 0:r.classList;s&&s.contains("favorite")?(u.deleteFavorite(i),s.remove("favorite")):(u.setFavorite(i),x(i))}function K(i){c.value==!0?(m.deleteTransaction(i),c.value=!1):(m.setTransaction(i),L(i))}function x(i){var r,$;const s=u.getFavorites,a=document.getElementById(`card-${(r=t==null?void 0:t.item)==null?void 0:r.id}`);for(let g=0;g<s.length;g++)s[g].id==i.id&&(($=a==null?void 0:a.classList)==null||$.add("favorite"))}function L(i){const s=m.getTransactions;for(let a=0;a<s.length;a++)s[a].id==i.id&&(c.value=!0)}function N(i){var a,r;const s=document.getElementById(`card-${(a=t==null?void 0:t.item)==null?void 0:a.id}`);s&&((r=s==null?void 0:s.classList)==null||r.add("paid"),f.value=!0)}return j(()=>{x(t==null?void 0:t.item),L(t==null?void 0:t.item)}),(i,s)=>{var a,r,$,g,S,B,F,I,P,M,R,E;return v(),h("div",{class:"one-card",id:`card-${(a=t==null?void 0:t.item)==null?void 0:a.id}`},[e("div",vt,[e("div",_t,[e("img",{src:(r=t==null?void 0:t.item)==null?void 0:r.image,alt:""},null,8,mt)]),e("div",ft,[e("p",ht,d(($=t==null?void 0:t.item)==null?void 0:$.sell_type),1),e("h3",Ct,d((g=t==null?void 0:t.item)==null?void 0:g.name),1),e("div",yt,[b(dt),e("p",null,d((S=t==null?void 0:t.item)==null?void 0:S.place),1)]),e("div",gt,[s[3]||(s[3]=e("p",{class:"seller-title"},"Продавец",-1)),e("p",kt,d((B=t==null?void 0:t.item)==null?void 0:B.seller),1)]),e("div",$t,[s[4]||(s[4]=e("p",null,"Вид товара",-1)),e("p",wt,d((F=t==null?void 0:t.item)==null?void 0:F.item_type),1)]),e("div",bt,[e("p",null,d((I=t==null?void 0:t.item)==null?void 0:I.about_item),1)])])]),e("div",Tt,[e("div",xt,[e("h2",null,d(o(((P=t==null?void 0:t.item)==null?void 0:P.count)*((M=t==null?void 0:t.item)==null?void 0:M.price)))+" ₽",1),e("div",Lt,[s[5]||(s[5]=e("p",null,"Количество",-1)),e("h5",null,d((R=t==null?void 0:t.item)==null?void 0:R.count)+" шт.",1)]),e("div",St,[s[6]||(s[6]=e("p",null,"Стоимость за штуку",-1)),e("h5",null,d(o((E=t==null?void 0:t.item)==null?void 0:E.price))+" ₽",1)])]),e("div",Bt,[y(l)=="/TransactionsPage"?(v(),h("button",{key:0,onClick:s[0]||(s[0]=V=>N(t==null?void 0:t.item)),class:"add-button pay-button",disabled:y(f)},d(y(f)?"Оплачено":"Оплатить"),9,Ft)):(v(),h("button",{key:1,class:"add-button",onClick:s[1]||(s[1]=V=>K(t==null?void 0:t.item))},d(y(c)?"В сделках":"Добавить в сделки"),1)),e("button",{class:"favorite-button",onClick:s[2]||(s[2]=V=>C(t==null?void 0:t.item))},[b(q)])])])],8,ut)}}}),Pt={key:0,class:"all-cards"},Mt={key:1,class:"all-cards not-found"},Vt=T({__name:"CardsRow",props:{search:{},type:{},allItems:{}},setup(n){const t=n,_=k(t.allItems),l=A(()=>_.value.filter(u=>{const m=u.name.toLowerCase().includes(t.search.toLowerCase()),c=t.type==="Все типы"||u.sell_type===t.type;return m&&c}));return(u,m)=>{var f;const c=It;return((f=l.value)==null?void 0:f.length)>0?(v(),h("div",Pt,[(v(!0),h(G,null,W(l.value,(o,C)=>(v(),X(c,{key:C,item:o},null,8,["item"]))),128))])):(v(),h("div",Mt,"Не найдено!"))}}});export{Et as _,Vt as a,ot as b,at as u};
